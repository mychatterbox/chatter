---
// Props 타입 정의
interface Props {
  tags: string[];
  counts: Record<string, number>;
}

const { tags, counts } = Astro.props as Props;
---
<aside class="tags-sidebar" role="complementary" aria-label="Tags">
  <div class="tags-card">
    <h3 class="tags-title">Tags</h3>

    {tags.length > 0 ? (
      <ul class="tags-list">
        {tags.map((tag) => (
          <li class="tag-item">
            <span class="tag-count" aria-hidden="true">{counts[tag]}</span>
            <a class="tag-name link-tag" href={`/tag/${encodeURIComponent(tag)}`}># {tag}</a>
          </li>
        ))}
      </ul>
    ) : (
      <p class="no-tags">No Tags</p>
    )}
  </div>
</aside>

<style>
.tags-sidebar {
  display: none;
}

@media (min-width: 1025px) {
  .tags-sidebar {
    display: block;
    position: sticky;
    top: var(--spacing-20);
    /* padding-left: 2rem; */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
}

.tags-list {
  display: flex;
  flex-direction: column;
  padding-left: 0;
}

.tag-item {
  display: flex;
  align-items: center;
  gap: 0.8rem;
  font-size: 0.875rem;
}
.tag-count {
  min-width: 2rem;
  text-align: right;
  flex-shrink: 0;
}

.tag-name {
  flex: 1;
}

.no-tags {
  color: var(--color-text-muted);
  font-size: 0.875rem;
  text-align: center;
  padding: var(--spacing-4);
}

</style>
